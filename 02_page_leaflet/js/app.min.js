function fct_route(){function e(e){function o(e,o){var r=L.DomUtil.create("button","",o);return r.setAttribute("type","button"),r.innerHTML=e,r.title="Trouve l'itinéraire",r}var r=L.DomUtil.create("div"),a=o("Depart",r),n=o("Arrivée",r);L.DomEvent.on(a,"click",function(){t.spliceWaypoints(0,1,e.latlng),map.closePopup()}),L.DomEvent.on(n,"click",function(){t.spliceWaypoints(t.getWaypoints().length-1,1,e.latlng),map.closePopup()}),L.popup().setContent(r).setLatLng(e.latlng).openOn(map)}var o=L.Routing.Plan.extend({createGeocoders:function(){var e=L.Routing.Plan.prototype.createGeocoders.call(this);return e}}),r=new o([],{createMarker:function(e,o,r){let t=markColor("./02_page_leaflet/img/icon/marker-red.svg"),a=markColor("./02_page_leaflet/img/icon/marker-green.svg"),n=markColor("./02_page_leaflet/img/icon/marker-inter.svg");return 0==e?L.marker(o.latLng,{icon:t}):e==r-1?L.marker(o.latLng,{icon:a}):0<e<r-1?L.marker(o.latLng,{icon:n}):void 0},geocoder:new L.Control.Geocoder.Nominatim,routeWhileDragging:!0,reverseWaypoints:!0}),t=L.Routing.control({waypoints:[],position:"topright",routeWhileDragging:!0,showAlternatives:!0,router:new L.Routing.osrmv1({language:"fr"}),plan:r,show:!0,collapsible:!1,collapseBtn:function(e){var o=L.DomUtil.create("span",e.options.collapseBtnClass);L.DomEvent.on(o,"click",e._toggle,e),e._container.insertBefore(o,e._container.firstChild)},altLineOptions:{styles:[{color:"black",opacity:.15,weight:9},{color:"white",opacity:.8,weight:6},{color:"blue",opacity:.5,weight:2}]}});map.addControl(t),map.on("click",e)}import{controlerCarte,controlerCarteCopy}from"./layer.js";import{markColor,addOjectOnMap,CentreMap,createMap,createCircle}from"./map.js";var map=null,zoom=6,lat=42.2,lng=2.25,text="Je suis ici!";const centre_france={lat:46.227638,lng:2.213749};export let icoRed=markColor("./02_page_leaflet/img/icon/marker-red.svg");export let icoGreen=markColor("./02_page_leaflet/img/icon/marker-green.svg");export let icoBlue=markColor("./02_page_leaflet/img/icon/marker-blue.svg");export let icoOrange=markColor("./02_page_leaflet/img/icon/marker-orange.svg");export let icoPurple=markColor("./02_page_leaflet/img/icon/marker-purple.svg");export let icoYellow=markColor("./02_page_leaflet/img/icon/marker-yellow.svg");export let icoIndigo=markColor("./02_page_leaflet/img/icon/Marker_metropole.svg");export let icoCarca=markColor("./02_page_leaflet/img/icon/Marker_carcassonne.svg");const Paris=L.marker([48.856697,2.351462],{icon:icoIndigo}).bindPopup("<center>Paris</center>"),Lyon=L.marker([45.757814,4.832011],{icon:icoIndigo}).bindPopup("<center>Lyon</center>"),Toulouse=L.marker([43.604462,1.444247],{icon:icoIndigo}).bindPopup("<center>Toulouse</center>"),Marseille=L.marker([43.2961743,5.3699525],{icon:icoIndigo}).bindPopup("<center>Marseille</center>");var Grandes_villes=L.layerGroup([Paris,Lyon,Toulouse,Marseille]),coordsFromBrowser={lat:centre_france.lat,lng:centre_france.lng};export map=new L.map("map",{center:coordsFromBrowser,zoom:zoom,layers:[controlerCarte.OpenStreetMap,Grandes_villes]});let controlerMarqueurs={"Métropoles <img src='./02_page_leaflet/img/icon/Marker_metropole.svg' width = '20px'/>":Grandes_villes};navigator.geolocation.getCurrentPosition(function(e){coordsFromBrowser.lat=e.coords.latitude,coordsFromBrowser.lng=e.coords.longitude;var o=o;CentreMap(coordsFromBrowser.lat,coordsFromBrowser.lng,o,map)});var layer_control=L.control.layers(controlerCarte,controlerMarqueurs,{collapsed:!0,position:"topleft"});addOjectOnMap(layer_control,map);var miniMap=new L.Control.MiniMap(controlerCarteCopy.OpenStreetMap,{toggleDisplay:!0});addOjectOnMap(miniMap,map),map.on("baselayerchange",function(e){miniMap.changeLayer(controlerCarteCopy[e.name])});var fsControl=new L.Control.FullScreen;addOjectOnMap(fsControl,map);var geocoder=L.Control.geocoder();addOjectOnMap(geocoder,map);var locate=L.control.locate();addOjectOnMap(locate,map);var bar=L.control.betterscale({position:"bottomleft",imperial:!1,metric:!0});addOjectOnMap(bar,map);var home=L.control.defaultExtent();addOjectOnMap(home,map);var printer=L.easyPrint({title:"impression",sizeModes:["Current","A4Landscape","A4Portrait"],filename:"Projet ISA",hideControlContainer:!0});addOjectOnMap(printer,map);var logoProjet=L.control({position:"bottomleft"});logoProjet.onAdd=function(e){var o=L.DomUtil.create("img");return o.src="./02_page_leaflet/img/globe.gif",o.style.width="3em",o},addOjectOnMap(logoProjet,map),map.on("mousemove",function(e){var o=document.getElementsByClassName("coordinate")[0],r=parseFloat(e.latlng.lat).toFixed(4),t=parseFloat(e.latlng.lng).toFixed(4);o.innerHTML="lat: "+r+" lng: "+t});export{fct_route};document.querySelector("#routing_osm").addEventListener("click",fct_route);