import{addOjectOnMap,createGeoJsonLayer}from"./map.js";import{map,icoRed,icoGreen,icoBlue,icoOrange,icoPurple,icoYellow,fct_route}from"./app.js";document.addEventListener("DOMContentLoaded",function(){document.querySelector("#ChargerData").addEventListener("click",function(){async function e(e){var r=await fetch(e),t=await r.json();return t}document.querySelector("#info_reset").classList.remove("btn-primary"),document.querySelector("#info_reset").classList.add("btn-danger"),document.querySelector("#ChargerData").classList.remove("btn-primary"),document.querySelector("#ChargerData").classList.add("btn-success");var r=L.control.panelLayers();e("./02_page_leaflet/json/departement_centroid.json").then(function(t){return r.addOverlay({name:'<span style="padding-right:20px;color:orange;">Centro√Øds</span>',icon:'<i class="icon icon-orange"></i>',layer:L.geoJSON(t,{pointToLayer:function(e,r){return L.marker(r,{icon:icoOrange})},onEachFeature:function(e,r){var t='<center><p><span class="marker_perso">Latitude</span>: '+e.properties.latitude;t+='</p><p><span class="marker_perso">Longitude</span>: '+e.properties.longitude,t+='</p><p><span class="marker_perso">Insee </span>: '+e.properties.insee_dep,t+='</p><p><span class="marker_perso">Nom </span>: '+e.properties.nom_departement,t+="</p></center>",r.bindPopup(t)}})}),e("./02_page_leaflet/json/departement.json")}).then(function(t){return r.addOverlay({name:'<span style="padding-right:auto;color:tomato;">Departement</span>',layer:L.geoJSON(t,{style:function(e){return{fillColor:"green",weight:2,opacity:1,color:"white",dashArray:"3",fillOpacity:.7}},onEachFeature:function(e,r){r.bindPopup("<center><h3>"+e.properties.insee_dep+"</h3><p>nom: "+e.properties.nom_departement+"</p></center>"),r.on({mouseover:function(e){var r=e.target;this.setStyle({weight:5,color:"#666",dashArray:"",fillOpacity:.7,fillColor:"tomato"}),L.Browser.ie||L.Browser.opera||L.Browser.edge||r.bringToFront()},mouseout:function(){this.setStyle({weight:2,color:"white",opacity:1,dashArray:"3",fillOpacity:.7,fillColor:"green"})},click:function(e){map.fitBounds(e.target.getBounds())}})}})}),e("./02_page_leaflet/json/region.json")}).then(function(e){r.addOverlay({name:"Region",layer:L.geoJSON(e,{style:function(e){return{fillColor:"white",weight:2,opacity:1,color:"green",dashArray:"3",fillOpacity:.7}},onEachFeature:function(e,r){r.bindPopup("<center><h3>"+e.properties.insee_reg+"</h3><p>nom: "+e.properties.nom_region+"</p></center>"),r.on({mouseover:function(e){var r=e.target;r.setStyle({weight:5,color:"#666",dashArray:"",fillOpacity:.7,fillColor:"tomato"}),L.Browser.ie||L.Browser.opera||L.Browser.edge||r.bringToFront()},mouseout:function(){this.setStyle({weight:2,color:"green",opacity:1,dashArray:"3",fillOpacity:.7,fillColor:"white"})},click:function(e){map.fitBounds(e.target.getBounds())}})}})})}),addOjectOnMap(r,map)})});